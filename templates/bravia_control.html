{% extends 'base.html' %}

{% block content %}
    <body>

    <script type="text/javascript">
        async function changeImg(objImg, newSrc) {
            console.log("Changing image source to " + newSrc);
            const originalSrc = objImg.getAttribute('src');
            const originalSrcBase = objImg.getAttribute('data-original-src');
            if (!originalSrcBase) {
                objImg.setAttribute('data-original-src', originalSrc)
            }
            if (originalSrc !== originalSrcBase) {
                return;
            }
            objImg.setAttribute('src', newSrc);

            setTimeout(() => {
                objImg.setAttribute('src', originalSrc);
            },1000);
        }   

        async function SetPowerOn(objImg, newSrc) {
            const response = await fetch('api/bravia/SetPowerOn', { method: 'GET' });
            console.log('SetPowerOn');
            changeImg(objImg, newSrc);
        }
        async function SetPowerOff(objImg, newSrc) {
            const response = await fetch('api/bravia/SetPowerOff', { method: 'GET' });
            console.log('SetpowerOff');
            changeImg(objImg, newSrc);
        }

    </script>

        <br><br>
       
        <div class="container-fluid">

            <div class="row align-items-center justify-content-center">
                <div class="col-5">
                    <img onclick="SetPowerOn(this, 'icons/on.png');" src="icons/on.png" alt="PowerOn" class="img-fluid">
                </div>
                <div class="col-5">
                    <img onclick="SetPowerOff(this, 'icons/standby.png');" src="icons/standby.png" alt="PowerOff" class="img-fluid">
                </div>
            </div>


        </div><br><br>
        

    </body>
{% endblock %}